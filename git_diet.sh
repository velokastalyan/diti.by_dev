#!/bin/bash
echo "ðŸ¥— ÐÐÐ§Ð˜ÐÐÐ•Ðœ Ð”Ð˜Ð•Ð¢Ð£ Ð”Ð›Ð¯ GIT..."

# 1. ÐžÑ‚Ð¼ÐµÐ½ÑÐµÐ¼ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ðµ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ñ‹, Ð½Ð¾ Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÐ¼ Ñ„Ð°Ð¹Ð»Ñ‹ Ð½Ð° Ð´Ð¸ÑÐºÐµ (Soft Reset)
# ÐœÑ‹ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ÑÑ Ð² ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ "Ð´Ð¾ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚Ð°", Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ ÐµÐ³Ð¾ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾.
echo "ðŸ”„ Ð¡Ð±Ñ€Ð¾Ñ Ð¸Ð½Ð´ÐµÐºÑÐ° Git..."
rm -rf .git
git init
git remote add origin https://github.com/timist-prog/diti.by.git

# 2. Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð–Ð•Ð¡Ð¢ÐšÐ˜Ð™ .gitignore
echo "ðŸ›¡ ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ .gitignore..."
cat > .gitignore << 'IGNORE'
.DS_Store
.idea/
.vscode/
*.log
*.tmp
*.zip
*.sql
*.tar.gz
*.rar
*.bak
# Ð˜ÑÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ Ð¿Ð°Ð¿ÐºÐ¸ Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð¾Ð¼ (ÑÐ°Ð¼Ñ‹Ðµ Ñ‚ÑÐ¶ÐµÐ»Ñ‹Ðµ)
/images/
/pub/products/
/pub/categories/
/pub/banners/
/pub/uploads/
/pub/brands/
/chat/images/
/var/
/cache/
/backups/
/admin/backups/
/Ð ÐµÐ·ÐµÑ€Ð²Ð½Ð°Ñ ÐºÐ¾Ð¿Ð¸Ñ/
# Ð˜ÑÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³Ð¸, ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾ (Ð½Ð¾ Ð¿Ð¾ÐºÐ° Ð¾ÑÑ‚Ð°Ð²Ð¸Ð¼)
IGNORE

# 3. Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ñ„Ð°Ð¹Ð»Ñ‹ Ð·Ð°Ð½Ð¾Ð²Ð¾ (Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Git ÑƒÐ²Ð¸Ð´Ð¸Ñ‚ Ð¸Ð³Ð½Ð¾Ñ€-Ð»Ð¸ÑÑ‚)
echo "âž• Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ñ„Ð°Ð¹Ð»Ñ‹ (ÑÑ‚Ð¾ Ð·Ð°Ð¹Ð¼ÐµÑ‚ Ð¿Ð°Ñ€Ñƒ ÑÐµÐºÑƒÐ½Ð´)..."
git add .

# 4. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° (ÑÐ²Ñ€Ð¸ÑÑ‚Ð¸ÐºÐ°)
COUNT=$(git status --porcelain | wc -l)
echo "ðŸ“Š Ð¤Ð°Ð¹Ð»Ð¾Ð² Ðº Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐµ: $COUNT (Ð±Ñ‹Ð»Ð¾ 137 000+)"

# 5. ÐšÐ¾Ð¼Ð¼Ð¸Ñ‚ Ð¸ ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ°
echo "ðŸ“¦ Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ð¹ Ð»ÐµÐ³ÐºÐ¸Ð¹ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚..."
git commit -m "Initial Commit: Clean Codebase (No Assets)"

echo "ðŸš€ ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð½Ð° GitHub (Force Push)..."
# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ force, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÑ‚Ð°Ñ€ÑƒÑŽ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÑŽ Ð² Ð¾Ð±Ð»Ð°ÐºÐµ (ÐµÑÐ»Ð¸ Ð¾Ð½Ð° Ñ‚Ð°Ð¼ Ð±Ñ‹Ð»Ð° Ñ‡Ð°ÑÑ‚Ð¸Ñ‡Ð½Ð¾)
git push -u --force origin main

echo "ðŸ Ð“ÐžÐ¢ÐžÐ’Ðž! ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ GitHub."
